
> aqeelraza-dev@0.1.0 build
> nest build

[96mpackages/auth-kit-aws/cdk/lib/constructs/observability.ts[0m:[93m325[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string' is not assignable to type 'QueryString'.

[7m325[0m       queryString: `fields @timestamp, @message, userId, identifier, reason
[7m   [0m [91m      ~~~~~~~~~~~[0m

  [96mnode_modules/aws-cdk-lib/aws-logs/lib/query-definition.d.ts[0m:[93m136[0m:[93m14[0m
    [7m136[0m     readonly queryString: QueryString;
    [7m   [0m [96m             ~~~~~~~~~~~[0m
    The expected type comes from property 'queryString' which is declared here on type 'QueryDefinitionProps'
[96mpackages/auth-kit-aws/cdk/lib/constructs/observability.ts[0m:[93m335[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string' is not assignable to type 'QueryString'.

[7m335[0m       queryString: `fields @timestamp, @message, identifier, ip, requestId
[7m   [0m [91m      ~~~~~~~~~~~[0m

  [96mnode_modules/aws-cdk-lib/aws-logs/lib/query-definition.d.ts[0m:[93m136[0m:[93m14[0m
    [7m136[0m     readonly queryString: QueryString;
    [7m   [0m [96m             ~~~~~~~~~~~[0m
    The expected type comes from property 'queryString' which is declared here on type 'QueryDefinitionProps'
[96mpackages/auth-kit-aws/cdk/lib/constructs/observability.ts[0m:[93m346[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string' is not assignable to type 'QueryString'.

[7m346[0m       queryString: `fields @timestamp, identifier, ip, userAgent, @message
[7m   [0m [91m      ~~~~~~~~~~~[0m

  [96mnode_modules/aws-cdk-lib/aws-logs/lib/query-definition.d.ts[0m:[93m136[0m:[93m14[0m
    [7m136[0m     readonly queryString: QueryString;
    [7m   [0m [96m             ~~~~~~~~~~~[0m
    The expected type comes from property 'queryString' which is declared here on type 'QueryDefinitionProps'
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/logger.ts[0m:[93m35[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m35[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/logger.ts[0m:[93m48[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m48[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/logger.ts[0m:[93m60[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m60[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/logger.ts[0m:[93m79[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m79[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m25[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m25[0m     throw new BadRequestError(`Missing required fields: ${missing.join(', ')}`);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m50[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m50[0m     throw new BadRequestError('Invalid identifier format. Must be a valid email or phone number (E.164 format)');
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m60[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m60[0m     throw new BadRequestError(`Invalid channel. Must be one of: ${validChannels.join(', ')}`);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m70[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m70[0m     throw new BadRequestError(`Invalid intent. Must be one of: ${validIntents.join(', ')}`);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m79[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m79[0m     throw new BadRequestError('Invalid OTP code. Must be 6 digits');
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m93[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m93[0m     throw new BadRequestError(`${fieldName} must be at least ${min} characters`);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m96[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m96[0m     throw new BadRequestError(`${fieldName} must not exceed ${max} characters`);
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/handlers/shared/middleware/validator.ts[0m:[93m109[0m:[93m11[0m - [91merror[0m[90m TS7009: [0m'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.

[7m109[0m     throw new BadRequestError(
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m       `Invalid ${fieldName}. Must be one of: ${allowedValues.join(', ')}`
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m111[0m     );
[7m   [0m [91m~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m7[0m:[93m20[0m - [91merror[0m[90m TS2724: [0m'"aws-lambda"' has no exported member named 'SNSRecord'. Did you mean 'SQSRecord'?

[7m7[0m import { SNSEvent, SNSRecord, Context } from 'aws-lambda';
[7m [0m [91m                   ~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m33[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m33[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m66[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m66[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m84[0m:[93m24[0m - [91merror[0m[90m TS2551: [0mProperty 'requestId' does not exist on type 'Context'. Did you mean 'awsRequestId'?

[7m84[0m     requestId: context.requestId,
[7m  [0m [91m                       ~~~~~~~~~[0m

  [96mnode_modules/@types/aws-lambda/handler.d.ts[0m:[93m102[0m:[93m5[0m
    [7m102[0m     awsRequestId: string;
    [7m   [0m [96m    ~~~~~~~~~~~~[0m
    'awsRequestId' is declared here.
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m114[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m114[0m   for (const recipient of bounce.bouncedRecipients) {
[7m   [0m [91m                          ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m117[0m:[93m34[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m117[0m       const timestamp = new Date(bounce.timestamp).getTime();
[7m   [0m [91m                                 ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m123[0m:[93m21[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m123[0m         bounceType: bounce.bounceType,
[7m   [0m [91m                    ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m124[0m:[93m24[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m124[0m         bounceSubType: bounce.bounceSubType,
[7m   [0m [91m                       ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m131[0m:[93m21[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m131[0m         bounceType: bounce.bounceType,
[7m   [0m [91m                    ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m132[0m:[93m24[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m132[0m         bounceSubType: bounce.bounceSubType,
[7m   [0m [91m                       ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m136[0m:[93m11[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m136[0m       if (bounce.bounceType === 'Permanent') {
[7m   [0m [91m          ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m143[0m:[93m34[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m143[0m             `Permanent bounce: ${bounce.bounceSubType || 'unknown'}`,
[7m   [0m [91m                                 ~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m167[0m:[93m27[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m167[0m   for (const recipient of complaint.complainedRecipients) {
[7m   [0m [91m                          ~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m170[0m:[93m34[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m170[0m       const timestamp = new Date(complaint.timestamp).getTime();
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m176[0m:[93m24[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m176[0m         complaintType: complaint.complaintFeedbackType,
[7m   [0m [91m                       ~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m183[0m:[93m24[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m183[0m         complaintType: complaint.complaintFeedbackType,
[7m   [0m [91m                       ~~~~~~~~~[0m
[96mpackages/auth-kit-aws/lambda/webhooks/sns-bounce-handler.ts[0m:[93m189[0m:[93m23[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m189[0m         `Complaint: ${complaint.complaintFeedbackType || 'spam'}`,
[7m   [0m [91m                      ~~~~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m94[0m:[93m29[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m94[0m     for (const recipient of bounce.bouncedRecipients) {
[7m  [0m [91m                            ~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m97[0m:[93m36[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m97[0m         const timestamp = new Date(bounce.timestamp);
[7m  [0m [91m                                   ~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m103[0m:[93m23[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m103[0m           bounceType: bounce.bounceType,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m104[0m:[93m26[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m104[0m           bounceSubType: bounce.bounceSubType,
[7m   [0m [91m                         ~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m110[0m:[93m13[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m110[0m         if (bounce.bounceType === 'Permanent') {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m117[0m:[93m36[0m - [91merror[0m[90m TS18048: [0m'bounce' is possibly 'undefined'.

[7m117[0m               `Permanent bounce: ${bounce.bounceSubType || 'unknown'}`,
[7m   [0m [91m                                   ~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m144[0m:[93m29[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m144[0m     for (const recipient of complaint.complainedRecipients) {
[7m   [0m [91m                            ~~~~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m147[0m:[93m36[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m147[0m         const timestamp = new Date(complaint.timestamp);
[7m   [0m [91m                                   ~~~~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m153[0m:[93m26[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m153[0m           complaintType: complaint.complaintFeedbackType,
[7m   [0m [91m                         ~~~~~~~~~[0m
[96msrc/shared/services/bounce-handler.service.ts[0m:[93m161[0m:[93m25[0m - [91merror[0m[90m TS18048: [0m'complaint' is possibly 'undefined'.

[7m161[0m           `Complaint: ${complaint.complaintFeedbackType || 'spam'}`,
[7m   [0m [91m                        ~~~~~~~~~[0m

Found 42 error(s).

